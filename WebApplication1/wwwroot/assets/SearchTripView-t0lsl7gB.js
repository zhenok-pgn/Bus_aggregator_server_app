import{d,j as m,_ as f,c as s,a as e,b as p,e as l,v as n,w as h,F as v,r as S,f as D,o,t as i}from"./index-B-utJTcv.js";import{S as c}from"./SearchAddressDropdown-CZ5e5q7Y.js";import"./geocoder-BmMrAMPn.js";const q=d({name:"SearchTripView",data(){return{tripSearchRequest:{},time:"",trips:[]}},components:{SearchAddressDropdown:c},computed:{...m("trip",["getTripSearchRequest"])},beforeMount(){this.getTripSearchRequest&&(this.tripSearchRequest={...this.tripSearchRequest,...this.getTripSearchRequest})},methods:{async searchTrips(){const r=[{id:1,from:{},to:{},route:{},carrier:{},dispatchDate:"",arrivalDate:"",price:500},{id:2,from:{},to:{},route:{},carrier:{},dispatchDate:"",arrivalDate:"",price:600},{id:3,from:{},to:{},route:{},carrier:{},dispatchDate:"",arrivalDate:"",price:700}];this.trips=r},bookTrip(r){this.$router.push({name:"trip-details",params:{tripId:r}})}}}),E={class:"trip-search"},b={class:"form-group"},R={class:"form-group"},T={class:"form-group"},g={class:"form-group"},A={key:0,class:"results"},k=["onClick"],y={key:1};function F(r,u,w,C,V,$){const a=D("SearchAddressDropdown");return o(),s("div",E,[u[10]||(u[10]=e("h2",null,"Поиск поездки",-1)),e("form",{onSubmit:u[2]||(u[2]=h((...t)=>r.searchTrips&&r.searchTrips(...t),["prevent"]))},[e("div",b,[u[3]||(u[3]=e("label",{for:"from"},"Откуда:",-1)),p(a,{placeholder:"Откуда",value:r.tripSearchRequest?r.tripSearchRequest.from.properties.display_name:""},null,8,["value"])]),e("div",R,[u[4]||(u[4]=e("label",{for:"to"},"Куда:",-1)),p(a,{placeholder:"Куда",value:r.tripSearchRequest?r.tripSearchRequest.to.properties.display_name:""},null,8,["value"])]),e("div",T,[u[5]||(u[5]=e("label",{for:"date"},"Дата:",-1)),l(e("input",{type:"date",id:"date","onUpdate:modelValue":u[0]||(u[0]=t=>r.tripSearchRequest.date=t),required:""},null,512),[[n,r.tripSearchRequest.date]])]),e("div",g,[u[6]||(u[6]=e("label",{for:"time"},"Время:",-1)),l(e("input",{type:"time",id:"time","onUpdate:modelValue":u[1]||(u[1]=t=>r.time=t)},null,512),[[n,r.time]])]),u[7]||(u[7]=e("button",{type:"submit"},"Найти поездки",-1))],32),r.trips.length>0?(o(),s("div",A,[u[8]||(u[8]=e("h3",null,"Результаты поиска:",-1)),e("ul",null,[(o(!0),s(v,null,S(r.trips,t=>(o(),s("li",{key:t.id},[e("div",null,[e("strong",null,i(t.from)+" - "+i(t.to),1),e("p",null,"Дата: "+i(t.dispatchDate),1),e("p",null,"Цена: "+i(t.price)+" руб.",1),e("button",{onClick:B=>r.bookTrip(t.id)},"Забронировать",8,k)])]))),128))])])):(o(),s("div",y,u[9]||(u[9]=[e("p",null,"По вашему запросу ничего не найдено.",-1)])))])}const j=f(q,[["render",F]]);export{j as default};
