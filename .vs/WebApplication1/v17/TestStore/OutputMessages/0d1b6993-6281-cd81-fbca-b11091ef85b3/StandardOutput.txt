warn: 09.03.2025 15:52:33.437 CoreEventId.SensitiveDataLoggingEnabledWarning[10400] (Microsoft.EntityFrameworkCore.Infrastructure) 
      Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
warn: 09.03.2025 15:52:33.495 RelationalEventId.OptionalDependentWithoutIdentifyingPropertyWarning[20606] (Microsoft.EntityFrameworkCore.Model.Validation) 
      The entity type 'Comforts' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
info: 09.03.2025 15:52:34.003 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (96ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
warn: 09.03.2025 15:52:34.086 RelationalEventId.OptionalDependentWithoutIdentifyingPropertyWarning[20606] (Microsoft.EntityFrameworkCore.Model.Validation) 
      The entity type 'Comforts' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
info: 09.03.2025 15:52:34.420 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (196ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Buses" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "Name" text NOT NULL,
          "StateNumber" text NOT NULL,
          "Vin" text NOT NULL,
          "Color" text,
          "SeatingPlan" text,
          "Comforts_HasToilet" boolean,
          "Comforts_HasClimateControl" boolean,
          "Comforts_HasWiFi" boolean,
          "Comforts_HasRosette" boolean,
          "Comforts_HasFoldingSeats" boolean,
          CONSTRAINT "PK_Buses" PRIMARY KEY ("Id")
      );
info: 09.03.2025 15:52:34.435 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Carriers" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "Name" text NOT NULL,
          "Inn" text NOT NULL,
          "Ogrn" text NOT NULL,
          "Ogrnip" text NOT NULL,
          "Address" text NOT NULL,
          "OfficeHours" text NOT NULL,
          "Phones" text NOT NULL,
          "IsBan" boolean NOT NULL,
          "HashedPassword" text NOT NULL,
          CONSTRAINT "PK_Carriers" PRIMARY KEY ("Id")
      );
info: 09.03.2025 15:52:34.448 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Drivers" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "LicenseId" text NOT NULL,
          "Name" text NOT NULL,
          "IsBan" boolean NOT NULL,
          "HashedPassword" text NOT NULL,
          CONSTRAINT "PK_Drivers" PRIMARY KEY ("Id")
      );
info: 09.03.2025 15:52:34.460 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Localities" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "Name" text NOT NULL,
          CONSTRAINT "PK_Localities" PRIMARY KEY ("Id")
      );
info: 09.03.2025 15:52:34.477 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Tariffs" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "Name" text NOT NULL,
          "Currency" integer NOT NULL,
          CONSTRAINT "PK_Tariffs" PRIMARY KEY ("Id")
      );
info: 09.03.2025 15:52:34.490 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Users" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "UserName" text NOT NULL,
          "HashedPassword" text NOT NULL,
          "Role" text NOT NULL,
          "IsBan" boolean NOT NULL,
          "CreatedAt" timestamp with time zone NOT NULL,
          CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
      );
info: 09.03.2025 15:52:34.515 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Routes" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "Name" text NOT NULL,
          "CarrierId" integer,
          CONSTRAINT "PK_Routes" PRIMARY KEY ("Id"),
          CONSTRAINT "FK_Routes_Carriers_CarrierId" FOREIGN KEY ("CarrierId") REFERENCES "Carriers" ("Id")
      );
info: 09.03.2025 15:52:34.527 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Stations" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "Name" text,
          "Type" integer NOT NULL,
          "Address" text NOT NULL,
          "LocalityId" integer NOT NULL,
          "Latitude" real NOT NULL,
          "Longitude" real NOT NULL,
          CONSTRAINT "PK_Stations" PRIMARY KEY ("Id"),
          CONSTRAINT "FK_Stations_Localities_LocalityId" FOREIGN KEY ("LocalityId") REFERENCES "Localities" ("Id") ON DELETE CASCADE
      );
info: 09.03.2025 15:52:34.542 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Passengers" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "Guid" uuid NOT NULL,
          "FirstName" text NOT NULL,
          "LastName" text NOT NULL,
          "Phone" text NOT NULL,
          "Email" text NOT NULL,
          "UserId" integer NOT NULL,
          CONSTRAINT "PK_Passengers" PRIMARY KEY ("Id"),
          CONSTRAINT "FK_Passengers_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
      );
info: 09.03.2025 15:52:34.559 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "RefreshTokens" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "Token" text NOT NULL,
          "UserId" integer NOT NULL,
          "Expires" timestamp with time zone NOT NULL,
          CONSTRAINT "PK_RefreshTokens" PRIMARY KEY ("Id"),
          CONSTRAINT "FK_RefreshTokens_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
      );
info: 09.03.2025 15:52:34.575 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "RouteSchedules" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "RouteId" integer NOT NULL,
          "TariffId" integer NOT NULL,
          "StartDate" date NOT NULL,
          "EndDate" date NOT NULL,
          "Periodicity" integer NOT NULL,
          "DaysOfWeek" text,
          "StartWith" date,
          "Interval" integer,
          "DepartureTimes" text NOT NULL,
          "SeatingType" integer NOT NULL,
          "BaseSeatingPlan" text NOT NULL,
          CONSTRAINT "PK_RouteSchedules" PRIMARY KEY ("Id"),
          CONSTRAINT "FK_RouteSchedules_Routes_RouteId" FOREIGN KEY ("RouteId") REFERENCES "Routes" ("Id") ON DELETE CASCADE,
          CONSTRAINT "FK_RouteSchedules_Tariffs_TariffId" FOREIGN KEY ("TariffId") REFERENCES "Tariffs" ("Id") ON DELETE CASCADE
      );
info: 09.03.2025 15:52:34.592 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Trips" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "RouteId" integer NOT NULL,
          "BusId" integer NOT NULL,
          "DriverId" integer NOT NULL,
          "DepartureTime" timestamp with time zone NOT NULL,
          "FactualSeatingPlan" text NOT NULL,
          CONSTRAINT "PK_Trips" PRIMARY KEY ("Id"),
          CONSTRAINT "FK_Trips_Buses_BusId" FOREIGN KEY ("BusId") REFERENCES "Buses" ("Id") ON DELETE CASCADE,
          CONSTRAINT "FK_Trips_Drivers_DriverId" FOREIGN KEY ("DriverId") REFERENCES "Drivers" ("Id") ON DELETE CASCADE,
          CONSTRAINT "FK_Trips_Routes_RouteId" FOREIGN KEY ("RouteId") REFERENCES "Routes" ("Id") ON DELETE CASCADE
      );
info: 09.03.2025 15:52:34.603 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "Prices" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "TariffId" integer NOT NULL,
          "DepartureStationId" integer NOT NULL,
          "ArrivalStationId" integer NOT NULL,
          "Value" integer NOT NULL,
          CONSTRAINT "PK_Prices" PRIMARY KEY ("Id"),
          CONSTRAINT "FK_Prices_Stations_ArrivalStationId" FOREIGN KEY ("ArrivalStationId") REFERENCES "Stations" ("Id") ON DELETE CASCADE,
          CONSTRAINT "FK_Prices_Stations_DepartureStationId" FOREIGN KEY ("DepartureStationId") REFERENCES "Stations" ("Id") ON DELETE CASCADE,
          CONSTRAINT "FK_Prices_Tariffs_TariffId" FOREIGN KEY ("TariffId") REFERENCES "Tariffs" ("Id") ON DELETE CASCADE
      );
info: 09.03.2025 15:52:34.613 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE "RoutePoints" (
          "Id" integer GENERATED BY DEFAULT AS IDENTITY,
          "StationId" integer NOT NULL,
          "RouteId" integer NOT NULL,
          "RoutePointId" integer,
          "PreviousRoutePointId" integer,
          "IsBoarding" boolean NOT NULL,
          "IsDisembarkation" boolean NOT NULL,
          "IsLongTermParking" boolean NOT NULL,
          "HoursOnTheRoad" time without time zone,
          "HoursOfTheParking" time without time zone,
          CONSTRAINT "PK_RoutePoints" PRIMARY KEY ("Id"),
          CONSTRAINT "FK_RoutePoints_RoutePoints_PreviousRoutePointId" FOREIGN KEY ("PreviousRoutePointId") REFERENCES "RoutePoints" ("Id"),
          CONSTRAINT "FK_RoutePoints_Routes_RouteId" FOREIGN KEY ("RouteId") REFERENCES "Routes" ("Id") ON DELETE CASCADE,
          CONSTRAINT "FK_RoutePoints_Stations_StationId" FOREIGN KEY ("StationId") REFERENCES "Stations" ("Id") ON DELETE CASCADE
      );
info: 09.03.2025 15:52:34.618 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_Passengers_UserId" ON "Passengers" ("UserId");
info: 09.03.2025 15:52:34.623 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_Prices_ArrivalStationId" ON "Prices" ("ArrivalStationId");
info: 09.03.2025 15:52:34.630 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_Prices_DepartureStationId" ON "Prices" ("DepartureStationId");
info: 09.03.2025 15:52:34.635 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_Prices_TariffId" ON "Prices" ("TariffId");
info: 09.03.2025 15:52:34.640 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_RefreshTokens_UserId" ON "RefreshTokens" ("UserId");
info: 09.03.2025 15:52:34.645 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_RoutePoints_PreviousRoutePointId" ON "RoutePoints" ("PreviousRoutePointId");
info: 09.03.2025 15:52:34.651 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_RoutePoints_RouteId" ON "RoutePoints" ("RouteId");
info: 09.03.2025 15:52:34.656 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_RoutePoints_StationId" ON "RoutePoints" ("StationId");
info: 09.03.2025 15:52:34.660 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_Routes_CarrierId" ON "Routes" ("CarrierId");
info: 09.03.2025 15:52:34.665 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_RouteSchedules_RouteId" ON "RouteSchedules" ("RouteId");
info: 09.03.2025 15:52:34.670 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_RouteSchedules_TariffId" ON "RouteSchedules" ("TariffId");
info: 09.03.2025 15:52:34.675 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_Stations_LocalityId" ON "Stations" ("LocalityId");
info: 09.03.2025 15:52:34.681 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_Trips_BusId" ON "Trips" ("BusId");
info: 09.03.2025 15:52:34.686 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_Trips_DriverId" ON "Trips" ("DriverId");
info: 09.03.2025 15:52:34.690 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX "IX_Trips_RouteId" ON "Trips" ("RouteId");
info: 09.03.2025 15:52:34.851 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (20ms) [Parameters=[@p0='Tom' (Nullable = false), @p1='Alice' (Nullable = false)], CommandType='Text', CommandTimeout='30']
      INSERT INTO "Localities" ("Name")
      VALUES (@p0)
      RETURNING "Id";
      INSERT INTO "Localities" ("Name")
      VALUES (@p1)
      RETURNING "Id";
